(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function s(e){return e.replace(/(:|\.)/g,"\\$1")}var t="1.5.3",n={},r={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},i=function(t){var n=[],r=!1,i=t.dir&&t.dir==="left"?"scrollLeft":"scrollTop";return this.each(function(){if(this===document||this===window)return;var t=e(this);t[i]()>0?n.push(this):(t[i](1),r=t[i]()>0,r&&n.push(this),t[i](0))}),n.length||this.each(function(){this.nodeName==="BODY"&&(n=[this])}),t.el==="first"&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:function(e){var t=i.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=i.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(t,n){t=t||{};if(t==="options")return n?this.each(function(){var t=e(this),r=e.extend(t.data("ssOpts")||{},n);e(this).data("ssOpts",r)}):this.first().data("ssOpts");var r=e.extend({},e.fn.smoothScroll.defaults,t),i=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(t){var n=this,o=e(this),u=e.extend({},r,o.data("ssOpts")||{}),a=r.exclude,f=u.excludeWithin,l=0,c=0,h=!0,p={},d=location.hostname===n.hostname||!n.hostname,v=u.scrollTarget||e.smoothScroll.filterPath(n.pathname)===i,m=s(n.hash);if(!u.scrollTarget&&(!d||!v||!m))h=!1;else{while(h&&l<a.length)o.is(s(a[l++]))&&(h=!1);while(h&&c<f.length)o.closest(f[c++]).length&&(h=!1)}h&&(u.preventDefault&&t.preventDefault(),e.extend(p,u,{scrollTarget:u.scrollTarget||m,link:n}),e.smoothScroll(p))}),this}}),e.smoothScroll=function(t,r){if(t==="options"&&typeof r=="object")return e.extend(n,r);var i,s,o,u,a,f=0,l="offset",c="scrollTop",h={},p={};typeof t=="number"?(i=e.extend({link:null},e.fn.smoothScroll.defaults,n),o=t):(i=e.extend({link:null},e.fn.smoothScroll.defaults,t||{},n),i.scrollElement&&(l="position",i.scrollElement.css("position")==="static"&&i.scrollElement.css("position","relative"))),c=i.direction==="left"?"scrollLeft":c,i.scrollElement?(s=i.scrollElement,/^(?:HTML|BODY)$/.test(s[0].nodeName)||(f=s[c]())):s=e("html, body").firstScrollable(i.direction),i.beforeScroll.call(s,i),o=typeof t=="number"?t:r||e(i.scrollTarget)[l]()&&e(i.scrollTarget)[l]()[i.direction]||0,h[c]=o+f+i.offset,u=i.speed,u==="auto"&&(a=h[c]-s.scrollTop(),a<0&&(a*=-1),u=a/i.autoCoefficient),p={duration:u,easing:i.easing,complete:function(){i.afterScroll.call(i.link,i)}},i.step&&(p.step=i.step),s.length?s.stop().animate(h,p):i.afterScroll.call(i.link,i)},e.smoothScroll.version=t,e.smoothScroll.filterPath=function(e){return e=e||"",e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=r});