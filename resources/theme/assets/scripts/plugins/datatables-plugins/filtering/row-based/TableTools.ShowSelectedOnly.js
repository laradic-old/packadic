(function(e,t,n,r){n.fn.dataTable.SelectedLengthMenu=function(e){if(e.oScroll.bInfinite)return null;var r='name="'+e.sTableId+'_length"',i='<select size="1" '+r+">",s,o,u=e.aLengthMenu;if(u.length==2&&typeof u[0]=="object"&&typeof u[1]=="object")for(s=0,o=u[0].length;s<o;s++)i+='<option value="'+u[0][s]+'">'+u[1][s]+"</option>";else for(s=0,o=u.length;s<o;s++)i+='<option value="'+u[s]+'">'+u[s]+"</option>";i+="</select>";var a=e.oLanguage.oFilterSelectedOptions;a||(a={AllText:"All Items",SelectedText:"Selected Items"});var f='<select name="'+e.sTableId+'_selectedFilter">';typeof a=="object"?(f+='<option value="All">'+a.AllText+"</option>",f+='<option value="Selected">'+a.SelectedText+"</option>"):(f+='<option value="All">'+a[0]+"</option>",f+='<option value="Selected">'+a[1]+"</option>"),f+="</select>";var l=t.createElement("div");e.aanFeatures.l||(l.id=e.sTableId+"_length"),l.className=e.oClasses.sLength;var c=e.oLanguage.sLengthMenu;c=="Show _MENU_ entries"&&(c="Show _MENU_ of _SELECTEDMENU_"),l.innerHTML="<span>"+c.replace("_MENU_",i).replace("_SELECTEDMENU_",f)+"</span>";var h=n('select[name="'+e.sTableId+'_length"]',l);h.length==0&&(h=n("select :eq(0)",l)),h.find('option[value="'+e._iDisplayLength+'"]',l).attr("selected",!0),h.bind("change.DT",function(t){var r=n(this).val(),i=e.aanFeatures.S;for(s=0,o=i.length;s<o;s++)i[s]!=this.parentNode&&n("select",i[s]).val(r);e._iDisplayLength=parseInt(r,10),e.oApi._fnCalculateEnd(e),e.fnDisplayEnd()==e.fnRecordsDisplay()&&(e._iDisplayStart=e.fnDisplayEnd()-e._iDisplayLength,e._iDisplayStart<0&&(e._iDisplayStart=0)),e._iDisplayLength==-1&&(e._iDisplayStart=0),e.oApi._fnDraw(e)});var p=n('select[name="'+e.sTableId+'_selectedFilter"]',l);return p.length==0&&(p=n("select :eq(1)",l)),p.find('option[value="'+e._sFilterSelected+'"]',l).attr("selected",!0),p.on("change",function(){e._sFilterSelected=n(this).val(),n("#"+e.sTableId).dataTable().fnDraw()}),n("select",l).attr("aria-controls",e.sTableId),l},n.fn.dataTableExt.afnFiltering.push(function(e,t,r){var i=n('select[name="'+e.sTableId+'_selectedFilter"]');if(i.length==0)return!0;if(i.val()=="All")return!0;var s=n("#"+e.sTableId).dataTable(),o=s.fnGetNodes(r),u=TableTools.fnGetInstance(e.sTableId),a=u.fnIsSelected(o);return a}),n.fn.dataTableExt.aoFeatures.push({fnInit:function(e){return new n.fn.dataTable.SelectedLengthMenu(e)},cFeature:"O",sFeature:"SelectedLengthMenu"})})(window,document,jQuery);