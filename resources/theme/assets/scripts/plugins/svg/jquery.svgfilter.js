(function(e){function t(e){this._wrapper=e}e.svg.addExtension("filters",t),e.extend(e.svg._wrapperClass.prototype,{filter:function(t,n,r,i,s,o,u){var a=this._args(arguments,["id","x","y","width","height"]);return this._makeNode(a.parent,"filter",e.extend({id:a.id,x:a.x,y:a.y,width:a.width,height:a.height},a.settings||{}))}}),e.extend(t.prototype,{distantLight:function(t,n,r,i,s){var o=this._wrapper._args(arguments,["result","azimuth","elevation"]);return this._wrapper._makeNode(o.parent,"feDistantLight",e.extend({result:o.result,azimuth:o.azimuth,elevation:o.elevation},o.settings||{}))},pointLight:function(t,n,r,i,s,o){var u=this._wrapper._args(arguments,["result","x","y","z"]);return this._wrapper._makeNode(u.parent,"fePointLight",e.extend({result:u.result,x:u.x,y:u.y,z:u.z},u.settings||{}))},spotLight:function(t,n,r,i,s,o,u,a,f){var l=this._wrapper._args(arguments,["result","x","y","z","toX","toY","toZ"],["toX"]),c=e.extend({result:l.result,x:l.x,y:l.y,z:l.z},l.toX!=null?{pointsAtX:l.toX,pointsAtY:l.toY,pointsAtZ:l.toZ}:{});return this._wrapper._makeNode(l.parent,"feSpotLight",e.extend(c,l.settings||{}))},blend:function(t,n,r,i,s,o){var u=this._wrapper._args(arguments,["result","mode","in1","in2"]);return this._wrapper._makeNode(u.parent,"feBlend",e.extend({result:u.result,mode:u.mode,in_:u.in1,in2:u.in2},u.settings||{}))},colorMatrix:function(t,n,r,i,s,o){var u=this._wrapper._args(arguments,["result","in1","type","values"]);if(e.isArray(u.values)){var a="";for(var f=0;f<u.values.length;f++)a+=(f===0?"":" ")+u.values[f].join(" ");u.values=a}else typeof u.values=="object"&&(u.settings=u.values,u.values=null);var l=e.extend({result:u.result,in_:u.in1,type:u.type},u.values!=null?{values:u.values}:{});return this._wrapper._makeNode(u.parent,"feColorMatrix",e.extend(l,u.settings||{}))},componentTransfer:function(t,n,r,i){var s=this._wrapper._args(arguments,["result","functions"]),o=this._wrapper._makeNode(s.parent,"feComponentTransfer",e.extend({result:s.result},s.settings||{})),u=["R","G","B","A"];for(var a=0;a<Math.min(4,s.functions.length);a++){var f=s.functions[a],l=e.extend({type:f[0]},f[0]==="table"||f[0]==="discrete"?{tableValues:f[1].join(" ")}:f[0]==="linear"?{slope:f[1],intercept:f[2]}:f[0]==="gamma"?{amplitude:f[1],exponent:f[2],offset:f[3]}:{});this._wrapper._makeNode(o,"feFunc"+u[a],l)}return o},composite:function(t,n,r,i,s,o,u,a,f,l){var c=this._wrapper._args(arguments,["result","operator","in1","in2","k1","k2","k3","k4"],["k1"]),h=e.extend({result:c.result,operator:c.operator,"in":c.in1,in2:c.in2},c.k1!=null?{k1:c.k1,k2:c.k2,k3:c.k3,k4:c.k4}:{});return this._wrapper._makeNode(c.parent,"feComposite",e.extend(h,c.settings||{}))},convolveMatrix:function(t,n,r,i,s){var o=this._wrapper._args(arguments,["result","order","matrix"]),u="";for(var a=0;a<o.matrix.length;a++)u+=(a===0?"":" ")+o.matrix[a].join(" ");return o.matrix=u,this._wrapper._makeNode(o.parent,"feConvolveMatrix",e.extend({result:o.result,order:o.order,kernelMatrix:o.matrix},o.settings||{}))},diffuseLighting:function(t,n,r,i){var s=this._wrapper._args(arguments,["result","colour"],["colour"]);return this._wrapper._makeNode(s.parent,"feDiffuseLighting",e.extend(e.extend({result:s.result},s.colour?{lightingColor:s.colour}:{}),s.settings||{}))},displacementMap:function(t,n,r,i,s){var o=this._wrapper._args(arguments,["result","in1","in2"]);return this._wrapper._makeNode(o.parent,"feDisplacementMap",e.extend({result:o.result,in_:o.in1,in2:o.in2},o.settings||{}))},flood:function(t,n,r,i,s,o,u,a,f){var l=this._wrapper._args(arguments,["result","x","y","width","height","colour","opacity"]);arguments.length<6&&(l.colour=l.x,l.opacity=l.y,l.settings=l.width,l.x=null);var c=e.extend({result:l.result,floodColor:l.colour,floodOpacity:l.opacity},l.x!=null?{x:l.x,y:l.y,width:l.width,height:l.height}:{});return this._wrapper._makeNode(l.parent,"feFlood",e.extend(c,l.settings||{}))},gaussianBlur:function(t,n,r,i,s,o){var u=this._wrapper._args(arguments,["result","in1","stdDevX","stdDevY"],["stdDevY"]);return this._wrapper._makeNode(u.parent,"feGaussianBlur",e.extend({result:u.result,in_:u.in1,stdDeviation:u.stdDevX+(u.stdDevY?" "+u.stdDevY:"")},u.settings||{}))},image:function(t,n,r,i){var s=this._wrapper._args(arguments,["result","href"]),o=this._wrapper._makeNode(s.parent,"feImage",e.extend({result:s.result},s.settings||{}));return o.setAttributeNS(e.svg.xlinkNS,"href",s.href),o},merge:function(t,n,r,i){var s=this._wrapper._args(arguments,["result","refs"]),o=this._wrapper._makeNode(s.parent,"feMerge",e.extend({result:s.result},s.settings||{}));for(var u=0;u<s.refs.length;u++)this._wrapper._makeNode(o,"feMergeNode",{in_:s.refs[u]});return o},morphology:function(t,n,r,i,s,o,u){var a=this._wrapper._args(arguments,["result","in1","operator","radiusX","radiusY"],["radiusY"]);return this._wrapper._makeNode(a.parent,"feMorphology",e.extend({result:a.result,in_:a.in1,operator:a.operator,radius:a.radiusX+(a.radiusY?" "+a.radiusY:"")},a.settings||{}))},offset:function(t,n,r,i,s,o){var u=this._wrapper._args(arguments,["result","in1","dx","dy"]);return this._wrapper._makeNode(u.parent,"feOffset",e.extend({result:u.result,in_:u.in1,dx:u.dx,dy:u.dy},u.settings||{}))},specularLighting:function(t,n,r,i,s,o,u){var a=this._wrapper._args(arguments,["result","in1","surfaceScale","specularConstant","specularExponent"],["surfaceScale","specularConstant","specularExponent"]);return this._wrapper._makeNode(a.parent,"feSpecularLighting",e.extend({result:a.result,in_:a.in1,surfaceScale:a.surfaceScale,specularConstant:a.specularConstant,specularExponent:a.specularExponent},a.settings||{}))},tile:function(t,n,r,i,s,o,u,a){var f=this._wrapper._args(arguments,["result","in1","x","y","width","height"]);return this._wrapper._makeNode(f.parent,"feTile",e.extend({result:f.result,in_:f.in1,x:f.x,y:f.y,width:f.width,height:f.height},f.settings||{}))},turbulence:function(t,n,r,i,s,o){var u=this._wrapper._args(arguments,["result","type","baseFreq","octaves"],["octaves"]);return this._wrapper._makeNode(u.parent,"feTurbulence",e.extend({result:u.result,type:u.type,baseFrequency:u.baseFreq,numOctaves:u.octaves},u.settings||{}))}})})(jQuery);