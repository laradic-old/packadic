$(function(){var e;module("maxlength",{setup:function(){e=$('<input type="text" maxlength="10" />').appendTo("#qunit-fixture"),e.maxlength()},teardown:function(){$(".bootstrap-maxlength").remove(),$("#qunit-fixture").empty()}}),test("Maxlength is displayed correctly",function(){e.focus(),ok($(".bootstrap-maxlength").length,"maxlength was inserted")}),test("Maxlength is visible on focus",function(){e.focus(),ok($(".bootstrap-maxlength").is(":visible"),"Maxlength is visible")}),test("Maxlength is removed on blur",function(){e.maxlength().focus().blur(),ok(!$(".bootstrap-maxlength").length,"Maxlength is removed on blur")}),test("Maxlength updates the maxlength",function(){e.focus(),e.blur().attr("maxlength","142").focus(),ok($(".bootstrap-maxlength").html()==="0 / 142","Maxlength updated the field")}),test("Removing an element with the maxlength removes the maxlength if any.",function(){e.maxlength().focus(),e.remove(),ok($(".bootstrap-maxlength").length===0,"Maxlength field removed with the input")}),test("The focus event is triggered multiple times without a blur",function(){e.focus().focus().focus().focus(),ok($(".bootstrap-maxlength").length===1,"Maxlength visualized only once after multiple focuses")}),module("textarea",{setup:function(){e=$('<textarea maxlength="10"></textarea>').appendTo("#qunit-fixture"),e.maxlength()},teardown:function(){$(".bootstrap-maxlength").remove(),$("#qunit-fixture").empty()}}),test("Newlines are counted twice",function(){e.val("t\r\nt"),e.maxlength(),e.focus(),ok($(".bootstrap-maxlength").html()==="4 / 10","Current length is: "+$(".bootstrap-maxlength").html()+". Expected 4 / 10.")}),module("textarea",{setup:function(){e=$('<textarea maxlength="10"></textarea>').appendTo("#qunit-fixture"),e.maxlength({twoCharLinebreak:!1})},teardown:function(){$(".bootstrap-maxlength").remove(),$("#qunit-fixture").empty()}}),test("Newlines are not counted twice",function(){e.val("t\r\nt"),e.maxlength({twoCharLinebreak:!1}),e.focus(),ok($(".bootstrap-maxlength").html()==="3 / 10","Current length is: "+$(".bootstrap-maxlength").html()+". Expected 3 / 10.")}),module("overmax",{setup:function(){e=$('<input type="text" maxlength="10" />').appendTo("#qunit-fixture"),e.maxlength({allowOverMax:!0})},teardown:function(){$(".bootstrap-maxlength").remove(),$("#qunit-fixture").empty()}}),test("Allows over maxlength",function(){e.val("this is over the maxlength"),e.focus(),ok($(".bootstrap-maxlength").html()==="26 / 10","Current length is: "+$(".bootstrap-maxlength").html()+". Expected 26 / 10.")}),test("Adds overmax class to element",function(){e.val("this is over the maxlength"),e.focus(),ok(e.hasClass("overmax"),'"overmax" class added to element')}),test("Maxlength attribute removed",function(){e.val("this is over the maxlength"),e.focus(),ok(!e.is("[maxlength]"),"Maxlength attribute is removed and does not exist.")}),test("New data-bs-mxl attribute created",function(){e.val("this is over the maxlength"),e.focus(),ok(e.attr("data-bs-mxl")==="10","data-bs-mxl attribute value is "+e.attr("data-bs-mxl")+". Expected value of 10.")})});