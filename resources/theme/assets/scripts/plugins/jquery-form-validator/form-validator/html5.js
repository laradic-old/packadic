(function(e,t){var n="placeholder"in document.createElement("INPUT"),r="options"in document.createElement("DATALIST");e(t).bind("validatorsLoaded formValidationSetup",function(t,i){i||(i=e("form"));var s=!1;i.each(function(){var t=e(this),i=t.find("input,textarea,select"),o=!1;i.each(function(){var t=[],n=e(this),i=n.attr("required"),u={};switch((n.attr("type")||"").toLowerCase()){case"time":t.push("time"),!e.formUtils.validators.validate_date&&!s&&(s=!0,e.formUtils.loadModules("date"));break;case"url":t.push("url");break;case"email":t.push("email");break;case"date":t.push("date");break;case"number":t.push("number");var a=n.attr("max"),f=n.attr("min");if(f||a){f||(f=0),a||(a=9007199254740992),u["data-validation-allowing"]="range["+f+";"+a+"]";if(f.indexOf("-")===0||a.indexOf("-")===0)u["data-validation-allowing"]+=",negative";if(f.indexOf(".")>-1||a.indexOf(".")>-1)u["data-validation-allowing"]+=",float"}}n.attr("pattern")&&(t.push("custom"),u["data-validation-regexp"]=n.attr("pattern")),n.attr("maxlength")&&(t.push("length"),u["data-validation-length"]="max"+n.attr("maxlength"));if(!r&&n.attr("list")){var l=[],c=e("#"+n.attr("list"));c.find("option").each(function(){l.push(e(this).text())});if(l.length==0){var h=e.trim(e("#"+n.attr("list")).text()).split("\n");e.each(h,function(t,n){l.push(e.trim(n))})}c.remove(),e.formUtils.suggest(n,l)}t.length&&(i||(u["data-validation-optional"]="true"),o=!0,n.attr("data-validation",t.join(" ")),e.each(u,function(e,t){n.attr(e,t)}))}),o&&t.trigger("html5ValidationAttrsFound"),n||i.filter("input[placeholder]").each(function(){this.defaultValue=this.getAttribute("placeholder"),e(this).bind("focus",function(){this.value==this.defaultValue&&(this.value="",e(this).removeClass("showing-placeholder"))}).bind("blur",function(){e.trim(this.value)==""&&(this.value=this.defaultValue,e(this).addClass("showing-placeholder"))})})})})})(jQuery,window);