!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,u=a.call(arguments,1),f=0,h=0,p=0,v=0,m=0,g=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(p=-1*o.detail),"wheelDelta"in o&&(p=o.wheelDelta),"wheelDeltaY"in o&&(p=o.wheelDeltaY),"wheelDeltaX"in o&&(h=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(h=-1*p,p=0),f=0===p?h:p,"deltaY"in o&&(p=-1*o.deltaY,f=p),"deltaX"in o&&(h=o.deltaX,0===p&&(f=-1*h)),0!==p||0!==h){if(1===o.deltaMode){var y=e.data(this,"mousewheel-line-height");f*=y,p*=y,h*=y}else if(2===o.deltaMode){var b=e.data(this,"mousewheel-page-height");f*=b,p*=b,h*=b}if(v=Math.max(Math.abs(p),Math.abs(h)),(!s||s>v)&&(s=v,r(o,v)&&(s/=40)),r(o,v)&&(f/=40,h/=40,p/=40),f=Math[f>=1?"floor":"ceil"](f/s),h=Math[h>=1?"floor":"ceil"](h/s),p=Math[p>=1?"floor":"ceil"](p/s),l.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();m=t.clientX-w.left,g=t.clientY-w.top}return t.deltaX=h,t.deltaY=p,t.deltaFactor=s,t.offsetX=m,t.offsetY=g,t.deltaMode=0,u.unshift(t,f,h,p),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,u)}}function n(){s=null}function r(e,t){return l.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,s,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],u="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],a=Array.prototype.slice;if(e.event.fixHooks)for(var f=o.length;f;)e.event.fixHooks[o[--f]]=e.event.mouseHooks;var l=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=u.length;n;)this.addEventListener(u[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",l.getLineHeight(this)),e.data(this,"mousewheel-page-height",l.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=u.length;n;)this.removeEventListener(u[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),r=n["offsetParent"in e.fn?"offsetParent":"parent"]();return r.length||(r=e("body")),parseInt(r.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),!function(e,t,n){!function(t){var r="function"==typeof define&&define.amd,i="https:"==n.location.protocol?"https:":"http:",s="cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.12/jquery.mousewheel.min.js";r||e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+i+"//"+s+"%3E%3C/script%3E")),t()}(function(){var r,i="mCustomScrollbar",s="mCS",o=".mCustomScrollbar",u={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:!0},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},f=0,l={},c=t.attachEvent&&!t.addEventListener?1:0,h=!1,p=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],d={init:function(t){var t=e.extend(!0,{},u,t),n=v.call(this);if(t.live){var r=t.liveSelector||this.selector||o,i=e(r);if("off"===t.live)return void g(r);l[r]=setTimeout(function(){i.mCustomScrollbar(t),"once"===t.live&&i.length&&g(r)},500)}else g(r);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":y(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=b(t.scrollButtons.scrollType),m(t),e(n).each(function(){var n=e(this);if(!n.data(s)){n.data(s,{idx:++f,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:n.css("direction"),cbOffsets:null,trigger:null});var r=n.data(s),i=r.opt,o=n.data("mcs-axis"),u=n.data("mcs-scrollbar-position"),a=n.data("mcs-theme");o&&(i.axis=o),u&&(i.scrollbarPosition=u),a&&(i.theme=a,m(i)),w.call(this),e("#mCSB_"+r.idx+"_container img:not(."+p[2]+")").addClass(p[2]),d.update.call(null,n)}})},update:function(t,n){var r=t||v.call(this);return e(r).each(function(){var t=e(this);if(t.data(s)){var r=t.data(s),i=r.opt,o=e("#mCSB_"+r.idx+"_container"),u=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")];if(!o.length)return;r.tweenRunning&&K(t),t.hasClass(p[3])&&t.removeClass(p[3]),t.hasClass(p[4])&&t.removeClass(p[4]),T.call(this),S.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||o.css("width",E(o.children())),r.overflowed=L.call(this),_.call(this),i.autoDraggerLength&&N.call(this),C.call(this),O.call(this);var f=[Math.abs(o[0].offsetTop),Math.abs(o[0].offsetLeft)];"x"!==i.axis&&(r.overflowed[0]?u[0].height()>u[0].parent().height()?A.call(this):(Q(t,f[0].toString(),{dir:"y",dur:0,overwrite:"none"}),r.contentReset.y=null):(A.call(this),"y"===i.axis?M.call(this):"yx"===i.axis&&r.overflowed[1]&&Q(t,f[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(r.overflowed[1]?u[1].width()>u[1].parent().width()?A.call(this):(Q(t,f[1].toString(),{dir:"x",dur:0,overwrite:"none"}),r.contentReset.x=null):(A.call(this),"x"===i.axis?M.call(this):"yx"===i.axis&&r.overflowed[0]&&Q(t,f[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),n&&r&&(2===n&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===n&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),$.call(this)}})},scrollTo:function(t,n){if("undefined"!=typeof t&&null!=t){var r=v.call(this);return e(r).each(function(){var r=e(this);if(r.data(s)){var i=r.data(s),o=i.opt,u={trigger:"external",scrollInertia:o.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},f=e.extend(!0,{},u,n),l=X.call(this,t),c=f.scrollInertia>0&&f.scrollInertia<17?17:f.scrollInertia;l[0]=V.call(this,l[0],"y"),l[1]=V.call(this,l[1],"x"),f.moveDragger&&(l[0]*=i.scrollRatio.y,l[1]*=i.scrollRatio.x),f.dur=c,setTimeout(function(){null!==l[0]&&"undefined"!=typeof l[0]&&"x"!==o.axis&&i.overflowed[0]&&(f.dir="y",f.overwrite="all",Q(r,l[0].toString(),f)),null!==l[1]&&"undefined"!=typeof l[1]&&"y"!==o.axis&&i.overflowed[1]&&(f.dir="x",f.overwrite="none",Q(r,l[1].toString(),f))},f.timeout)}})}},stop:function(){var t=v.call(this);return e(t).each(function(){var t=e(this);t.data(s)&&K(t)})},disable:function(t){var n=v.call(this);return e(n).each(function(){var n=e(this);n.data(s)&&(n.data(s),$.call(this,"remove"),M.call(this),t&&A.call(this),_.call(this,!0),n.addClass(p[3]))})},destroy:function(){var t=v.call(this);return e(t).each(function(){var n=e(this);if(n.data(s)){var r=n.data(s),o=r.opt,u=e("#mCSB_"+r.idx),a=e("#mCSB_"+r.idx+"_container"),f=e(".mCSB_"+r.idx+"_scrollbar");o.live&&g(o.liveSelector||e(t).selector),$.call(this,"remove"),M.call(this),A.call(this),n.removeData(s),et(this,"mcs"),f.remove(),a.find("img."+p[2]).removeClass(p[2]),u.replaceWith(a.contents()),n.removeClass(i+" _"+s+"_"+r.idx+" "+p[6]+" "+p[7]+" "+p[5]+" "+p[3]).addClass(p[4])}})}},v=function(){return"object"!=typeof e(this)||e(this).length<1?o:this},m=function(t){var n=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],r=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],i=["minimal","minimal-dark"],s=["minimal","minimal-dark"],o=["minimal","minimal-dark"];t.autoDraggerLength=e.inArray(t.theme,n)>-1?!1:t.autoDraggerLength,t.autoExpandScrollbar=e.inArray(t.theme,r)>-1?!1:t.autoExpandScrollbar,t.scrollButtons.enable=e.inArray(t.theme,i)>-1?!1:t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,s)>-1?!0:t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,o)>-1?"outside":t.scrollbarPosition},g=function(e){l[e]&&(clearTimeout(l[e]),et(l,e))},y=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},b=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},w=function(){var t=e(this),n=t.data(s),r=n.opt,o=r.autoExpandScrollbar?" "+p[1]+"_expand":"",u=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_vertical"+o+"'><div class='"+p[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+r.theme+" mCSB_scrollTools_horizontal"+o+"'><div class='"+p[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;' oncontextmenu='return false;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],a="yx"===r.axis?"mCSB_vertical_horizontal":"x"===r.axis?"mCSB_horizontal":"mCSB_vertical",f="yx"===r.axis?u[0]+u[1]:"x"===r.axis?u[1]:u[0],l="yx"===r.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",c=r.autoHideScrollbar?" "+p[6]:"",h="x"!==r.axis&&"rtl"===n.langDir?" "+p[7]:"";r.setWidth&&t.css("width",r.setWidth),r.setHeight&&t.css("height",r.setHeight),r.setLeft="y"!==r.axis&&"rtl"===n.langDir?"989999px":r.setLeft,t.addClass(i+" _"+s+"_"+n.idx+c+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+r.theme+" "+a+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+r.setTop+"; left:"+r.setLeft+";' dir="+n.langDir+" /></div>");var d=e("#mCSB_"+n.idx),v=e("#mCSB_"+n.idx+"_container");"y"===r.axis||r.advanced.autoExpandHorizontalScroll||v.css("width",E(v.children())),"outside"===r.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),d.addClass("mCSB_outside").after(f)):(d.addClass("mCSB_inside").append(f),v.wrap(l)),x.call(this);var m=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];m[0].css("min-height",m[0].height()),m[1].css("min-width",m[1].width())},E=function(t){return Math.max.apply(Math,t.map(function(){return e(this).outerWidth(!0)}).get())},S=function(){var t=e(this),n=t.data(s),r=n.opt,i=e("#mCSB_"+n.idx+"_container");r.advanced.autoExpandHorizontalScroll&&"y"!==r.axis&&i.css({position:"absolute",width:"auto"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),position:"relative"}).unwrap()},x=function(){var t=e(this),n=t.data(s),r=n.opt,i=e(".mCSB_"+n.idx+"_scrollbar:first"),o=rt(r.scrollButtons.tabindex)?"tabindex='"+r.scrollButtons.tabindex+"'":"",u=["<a href='#' class='"+p[13]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+p[14]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+p[15]+"' oncontextmenu='return false;' "+o+" />","<a href='#' class='"+p[16]+"' oncontextmenu='return false;' "+o+" />"],a=["x"===r.axis?u[2]:u[0],"x"===r.axis?u[3]:u[1],u[2],u[3]];r.scrollButtons.enable&&i.prepend(a[0]).append(a[1]).next(".mCSB_scrollTools").prepend(a[2]).append(a[3])},T=function(){var t=e(this),n=t.data(s),r=e("#mCSB_"+n.idx),i=t.css("max-height")||"none",o=-1!==i.indexOf("%"),u=t.css("box-sizing");if("none"!==i){var a=o?t.parent().height()*parseInt(i)/100:parseInt(i);"border-box"===u&&(a-=t.innerHeight()-t.height()+(t.outerHeight()-t.innerHeight())),r.css("max-height",Math.round(a))}},N=function(){var t=e(this),n=t.data(s),r=e("#mCSB_"+n.idx),i=e("#mCSB_"+n.idx+"_container"),o=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],u=[r.height()/i.outerHeight(!1),r.width()/i.outerWidth(!1)],a=[parseInt(o[0].css("min-height")),Math.round(u[0]*o[0].parent().height()),parseInt(o[1].css("min-width")),Math.round(u[1]*o[1].parent().width())],f=c&&a[1]<a[0]?a[0]:a[1],l=c&&a[3]<a[2]?a[2]:a[3];o[0].css({height:f,"max-height":o[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":a[0]+"px"}),o[1].css({width:l,"max-width":o[1].parent().width()-10})},C=function(){var t=e(this),n=t.data(s),r=e("#mCSB_"+n.idx),i=e("#mCSB_"+n.idx+"_container"),o=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],u=[i.outerHeight(!1)-r.height(),i.outerWidth(!1)-r.width()],a=[u[0]/(o[0].parent().height()-o[0].height()),u[1]/(o[1].parent().width()-o[1].width())];n.scrollRatio={y:a[0],x:a[1]}},k=function(e,t,n){var r=n?p[0]+"_expanded":"",i=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(p[0]+" "+r),i.toggleClass(p[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(p[0]),i.removeClass(p[1])):(e.addClass(p[0]),i.addClass(p[1])))},L=function(){var t=e(this),n=t.data(s),r=e("#mCSB_"+n.idx),i=e("#mCSB_"+n.idx+"_container"),o=null==n.overflowed?i.height():i.outerHeight(!1),u=null==n.overflowed?i.width():i.outerWidth(!1);return[o>r.height(),u>r.width()]},A=function(){var t=e(this),n=t.data(s),r=n.opt,i=e("#mCSB_"+n.idx),o=e("#mCSB_"+n.idx+"_container"),u=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(K(t),("x"!==r.axis&&!n.overflowed[0]||"y"===r.axis&&n.overflowed[0])&&(u[0].add(o).css("top",0),Q(t,"_resetY")),"y"!==r.axis&&!n.overflowed[1]||"x"===r.axis&&n.overflowed[1]){var a=dx=0;"rtl"===n.langDir&&(a=i.width()-o.outerWidth(!1),dx=Math.abs(a/n.scrollRatio.x)),o.css("left",a),u[1].css("left",dx),Q(t,"_resetX")}},O=function(){function t(){o=setTimeout(function(){e.event.special.mousewheel?(clearTimeout(o),j.call(n[0])):t()},100)}var n=e(this),r=n.data(s),i=r.opt;if(!r.bindEvents){if(P.call(this),i.contentTouchScroll&&H.call(this),B.call(this),i.mouseWheel.enable){var o;t()}I.call(this),R.call(this),i.advanced.autoScrollOnFocus&&q.call(this),i.scrollButtons.enable&&U.call(this),i.keyboard.enable&&z.call(this),r.bindEvents=!0}},M=function(){var t=e(this),r=t.data(s),i=r.opt,o=s+"_"+r.idx,u=".mCSB_"+r.idx+"_scrollbar",f=e("#mCSB_"+r.idx+",#mCSB_"+r.idx+"_container,#mCSB_"+r.idx+"_container_wrapper,"+u+" ."+p[12]+",#mCSB_"+r.idx+"_dragger_vertical,#mCSB_"+r.idx+"_dragger_horizontal,"+u+">a"),l=e("#mCSB_"+r.idx+"_container");i.advanced.releaseDraggableSelectors&&f.add(e(i.advanced.releaseDraggableSelectors)),r.bindEvents&&(e(n).unbind("."+o),f.each(function(){e(this).unbind("."+o)}),clearTimeout(t[0]._focusTimeout),et(t[0],"_focusTimeout"),clearTimeout(r.sequential.step),et(r.sequential,"step"),clearTimeout(l[0].onCompleteTimeout),et(l[0],"onCompleteTimeout"),r.bindEvents=!1)},_=function(t){var n=e(this),r=n.data(s),i=r.opt,o=e("#mCSB_"+r.idx+"_container_wrapper"),u=o.length?o:e("#mCSB_"+r.idx+"_container"),a=[e("#mCSB_"+r.idx+"_scrollbar_vertical"),e("#mCSB_"+r.idx+"_scrollbar_horizontal")],f=[a[0].find(".mCSB_dragger"),a[1].find(".mCSB_dragger")];"x"!==i.axis&&(r.overflowed[0]&&!t?(a[0].add(f[0]).add(a[0].children("a")).css("display","block"),u.removeClass(p[8]+" "+p[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&f[0].css("display","none"),u.removeClass(p[10])):(a[0].css("display","none"),u.addClass(p[10])),u.addClass(p[8]))),"y"!==i.axis&&(r.overflowed[1]&&!t?(a[1].add(f[1]).add(a[1].children("a")).css("display","block"),u.removeClass(p[9]+" "+p[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&f[1].css("display","none"),u.removeClass(p[11])):(a[1].css("display","none"),u.addClass(p[11])),u.addClass(p[9]))),r.overflowed[0]||r.overflowed[1]?n.removeClass(p[5]):n.addClass(p[5])},D=function(e){var t=e.type;switch(t){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return[e.originalEvent.pageY,e.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var n=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],r=e.originalEvent.touches.length||e.originalEvent.changedTouches.length;return[n.pageY,n.pageX,r>1];default:return[e.pageY,e.pageX,!1]}},P=function(){function t(e){var t=m.find("iframe");if(t.length){var n=e?"auto":"none";t.css("pointer-events",n)}}function r(e,t,n,r){if(m[0].idleTimer=p.scrollInertia<233?250:0,i.attr("id")===v[1])var s="x",o=(i[0].offsetLeft-t+r)*l.scrollRatio.x;else var s="y",o=(i[0].offsetTop-e+n)*l.scrollRatio.y;Q(f,o.toString(),{dir:s,drag:!0})}var i,o,u,f=e(this),l=f.data(s),p=l.opt,d=s+"_"+l.idx,v=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],m=e("#mCSB_"+l.idx+"_container"),g=e("#"+v[0]+",#"+v[1]),y=p.advanced.releaseDraggableSelectors?g.add(e(p.advanced.releaseDraggableSelectors)):g;g.bind("mousedown."+d+" touchstart."+d+" pointerdown."+d+" MSPointerDown."+d,function(r){if(r.stopImmediatePropagation(),r.preventDefault(),tt(r)){h=!0,c&&(n.onselectstart=function(){return!1}),t(!1),K(f),i=e(this);var s=i.offset(),l=D(r)[0]-s.top,d=D(r)[1]-s.left,v=i.height()+s.top,m=i.width()+s.left;v>l&&l>0&&m>d&&d>0&&(o=l,u=d),k(i,"active",p.autoExpandScrollbar)}}).bind("touchmove."+d,function(e){e.stopImmediatePropagation(),e.preventDefault();var t=i.offset(),n=D(e)[0]-t.top,s=D(e)[1]-t.left;r(o,u,n,s)}),e(n).bind("mousemove."+d+" pointermove."+d+" MSPointerMove."+d,function(e){if(i){var t=i.offset(),n=D(e)[0]-t.top,s=D(e)[1]-t.left;if(o===n)return;r(o,u,n,s)}}).add(y).bind("mouseup."+d+" touchend."+d+" pointerup."+d+" MSPointerUp."+d,function(){i&&(k(i,"active",p.autoExpandScrollbar),i=null),h=!1,c&&(n.onselectstart=null),t(!0)})},H=function(){function t(e,t){var n=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?n[0]:n[3]:e>60?t>3?n[3]:n[2]:e>30?t>8?n[1]:t>6?n[0]:t>4?t:n[2]:t>8?t:n[3]}function n(e,t,n,r,i,s){e&&Q(b,e.toString(),{dur:t,scrollEasing:n,dir:r,overwrite:i,drag:s})}var i,o,u,a,f,l,c,p,d,v,m,g,y,b=e(this),w=b.data(s),E=w.opt,S=s+"_"+w.idx,x=e("#mCSB_"+w.idx),T=e("#mCSB_"+w.idx+"_container"),N=[e("#mCSB_"+w.idx+"_dragger_vertical"),e("#mCSB_"+w.idx+"_dragger_horizontal")],C=[],k=[],L=0,A="yx"===E.axis?"none":"all",O=[];T.bind("touchstart."+S+" pointerdown."+S+" MSPointerDown."+S,function(e){if(!nt(e)||h||D(e)[2])return void (r=0);r=1,g=0,y=0;var t=T.offset();i=D(e)[0]-t.top,o=D(e)[1]-t.left,O=[D(e)[0],D(e)[1]]}).bind("touchmove."+S+" pointermove."+S+" MSPointerMove."+S,function(e){if(nt(e)&&!h&&!D(e)[2]&&(e.stopImmediatePropagation(),!y||g)){l=Y();var t=x.offset(),r=D(e)[0]-t.top,s=D(e)[1]-t.left,u="mcsLinearOut";if(C.push(r),k.push(s),O[2]=Math.abs(D(e)[0]-O[0]),O[3]=Math.abs(D(e)[1]-O[1]),w.overflowed[0])var a=N[0].parent().height()-N[0].height(),f=i-r>0&&r-i>-(a*w.scrollRatio.y)&&(2*O[3]<O[2]||"yx"===E.axis);if(w.overflowed[1])var c=N[1].parent().width()-N[1].width(),p=o-s>0&&s-o>-(c*w.scrollRatio.x)&&(2*O[2]<O[3]||"yx"===E.axis);f||p?(e.preventDefault(),g=1):y=1,v="yx"===E.axis?[i-r,o-s]:"x"===E.axis?[null,o-s]:[i-r,null],T[0].idleTimer=250,w.overflowed[0]&&n(v[0],L,u,"y","all",!0),w.overflowed[1]&&n(v[1],L,u,"x",A,!0)}}),x.bind("touchstart."+S+" pointerdown."+S+" MSPointerDown."+S,function(e){if(!nt(e)||h||D(e)[2])return void (r=0);r=1,e.stopImmediatePropagation(),K(b),f=Y();var t=x.offset();u=D(e)[0]-t.top,a=D(e)[1]-t.left,C=[],k=[]}).bind("touchend."+S+" pointerup."+S+" MSPointerUp."+S,function(e){if(nt(e)&&!h&&!D(e)[2]){e.stopImmediatePropagation(),g=0,y=0,c=Y();var r=x.offset(),i=D(e)[0]-r.top,s=D(e)[1]-r.left;if(!(c-l>30)){d=1e3/(c-f);var o="mcsEaseOut",b=2.5>d,S=b?[C[C.length-2],k[k.length-2]]:[0,0];p=b?[i-S[0],s-S[1]]:[i-u,s-a];var N=[Math.abs(p[0]),Math.abs(p[1])];d=b?[Math.abs(p[0]/4),Math.abs(p[1]/4)]:[d,d];var L=[Math.abs(T[0].offsetTop)-p[0]*t(N[0]/d[0],d[0]),Math.abs(T[0].offsetLeft)-p[1]*t(N[1]/d[1],d[1])];v="yx"===E.axis?[L[0],L[1]]:"x"===E.axis?[null,L[1]]:[L[0],null],m=[4*N[0]+E.scrollInertia,4*N[1]+E.scrollInertia];var O=parseInt(E.contentTouchScroll)||0;v[0]=N[0]>O?v[0]:0,v[1]=N[1]>O?v[1]:0,w.overflowed[0]&&n(v[0],m[0],o,"y",A,!1),w.overflowed[1]&&n(v[1],m[1],o,"x",A,!1)}}})},B=function(){function i(){return t.getSelection?t.getSelection().toString():n.selection&&"Control"!=n.selection.type?n.selection.createRange().text:0}function o(e,t,n){p.type=n&&u?"stepped":"stepless",p.scrollAmount=10,W(f,e,t,"mcsLinearOut",n?60:null)}var u,f=e(this),l=f.data(s),c=l.opt,p=l.sequential,d=s+"_"+l.idx,v=e("#mCSB_"+l.idx+"_container"),m=v.parent();v.bind("mousedown."+d,function(){r||u||(u=1,h=!0)}).add(n).bind("mousemove."+d,function(e){if(!r&&u&&i()){var t=v.offset(),n=D(e)[0]-t.top+v[0].offsetTop,s=D(e)[1]-t.left+v[0].offsetLeft;n>0&&n<m.height()&&s>0&&s<m.width()?p.step&&o("off",null,"stepped"):("x"!==c.axis&&l.overflowed[0]&&(0>n?o("on",38):n>m.height()&&o("on",40)),"y"!==c.axis&&l.overflowed[1]&&(0>s?o("on",37):s>m.width()&&o("on",39)))}}).bind("mouseup."+d,function(){r||(u&&(u=0,o("off",null)),h=!1)})},j=function(){function t(e){var t=null;try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(r){}return null!==t}var n=e(this),r=n.data(s);if(r){var i=r.opt,o=s+"_"+r.idx,u=e("#mCSB_"+r.idx),a=[e("#mCSB_"+r.idx+"_dragger_vertical"),e("#mCSB_"+r.idx+"_dragger_horizontal")],f=e("#mCSB_"+r.idx+"_container").find("iframe"),l=u;f.length&&f.each(function(){var n=this;t(n)&&(l=l.add(e(n).contents().find("body")))}),l.bind("mousewheel."+o,function(t,s){if(K(n),!F(n,t.target)){var o="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):c&&t.deltaFactor<100?100:t.deltaFactor||100;if("x"===i.axis||"x"===i.mouseWheel.axis)var f="x",l=[Math.round(o*r.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=u.width()?.9*u.width():l[0],p=Math.abs(e("#mCSB_"+r.idx+"_container")[0].offsetLeft),d=a[1][0].offsetLeft,v=a[1].parent().width()-a[1].width(),m=t.deltaX||t.deltaY||s;else var f="y",l=[Math.round(o*r.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?l[1]:l[0]>=u.height()?.9*u.height():l[0],p=Math.abs(e("#mCSB_"+r.idx+"_container")[0].offsetTop),d=a[0][0].offsetTop,v=a[0].parent().height()-a[0].height(),m=t.deltaY||s;"y"===f&&!r.overflowed[0]||"x"===f&&!r.overflowed[1]||(i.mouseWheel.invert&&(m=-m),i.mouseWheel.normalizeDelta&&(m=0>m?-1:1),(m>0&&0!==d||0>m&&d!==v||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),Q(n,(p-m*h).toString(),{dir:f}))}})}},F=function(t,n){var r=n.nodeName.toLowerCase(),i=t.data(s).opt.mouseWheel.disableOver,o=["select","textarea"];return e.inArray(r,i)>-1&&!(e.inArray(r,o)>-1&&!e(n).is(":focus"))},I=function(){var t=e(this),n=t.data(s),r=s+"_"+n.idx,i=e("#mCSB_"+n.idx+"_container"),o=i.parent(),u=e(".mCSB_"+n.idx+"_scrollbar ."+p[12]);u.bind("touchstart."+r+" pointerdown."+r+" MSPointerDown."+r,function(){h=!0}).bind("touchend."+r+" pointerup."+r+" MSPointerUp."+r,function(){h=!1}).bind("click."+r,function(r){if(e(r.target).hasClass(p[12])||e(r.target).hasClass("mCSB_draggerRail")){K(t);var s=e(this),u=s.find(".mCSB_dragger");if(s.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var f="x",l=r.pageX>u.offset().left?-1:1,c=Math.abs(i[0].offsetLeft)-.9*l*o.width()}else{if(!n.overflowed[0])return;var f="y",l=r.pageY>u.offset().top?-1:1,c=Math.abs(i[0].offsetTop)-.9*l*o.height()}Q(t,c.toString(),{dir:f,scrollEasing:"mcsEaseInOut"})}})},q=function(){var t=e(this),r=t.data(s),i=r.opt,o=s+"_"+r.idx,u=e("#mCSB_"+r.idx+"_container"),f=u.parent();u.bind("focusin."+o,function(){var r=e(n.activeElement),s=u.find(".mCustomScrollBox").length,o=0;r.is(i.advanced.autoScrollOnFocus)&&(K(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=s?(o+17)*s:0,t[0]._focusTimeout=setTimeout(function(){var e=[it(r)[0],it(r)[1]],n=[u[0].offsetTop,u[0].offsetLeft],s=[n[0]+e[0]>=0&&n[0]+e[0]<f.height()-r.outerHeight(!1),n[1]+e[1]>=0&&n[0]+e[1]<f.width()-r.outerWidth(!1)],a="yx"!==i.axis||s[0]||s[1]?"all":"none";"x"===i.axis||s[0]||Q(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:a,dur:o}),"y"===i.axis||s[1]||Q(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:a,dur:o})},t[0]._focusTimer))})},R=function(){var t=e(this),n=t.data(s),r=s+"_"+n.idx,i=e("#mCSB_"+n.idx+"_container").parent();i.bind("scroll."+r,function(){(0!==i.scrollTop()||0!==i.scrollLeft())&&e(".mCSB_"+n.idx+"_scrollbar").css("visibility","hidden")})},U=function(){var t=e(this),n=t.data(s),r=n.opt,i=n.sequential,o=s+"_"+n.idx,u=".mCSB_"+n.idx+"_scrollbar",a=e(u+">a");a.bind("mousedown."+o+" touchstart."+o+" pointerdown."+o+" MSPointerDown."+o+" mouseup."+o+" touchend."+o+" pointerup."+o+" MSPointerUp."+o+" mouseout."+o+" pointerout."+o+" MSPointerOut."+o+" click."+o,function(s){function o(e,n){i.scrollAmount=r.snapAmount||r.scrollButtons.scrollAmount,W(t,e,n)}if(s.preventDefault(),tt(s)){var u=e(this).attr("class");switch(i.type=r.scrollButtons.scrollType,s.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;h=!0,n.tweenRunning=!1,o("on",u);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;h=!1,i.dir&&o("off",u);break;case"click":if("stepped"!==i.type||n.tweenRunning)return;o("on",u)}}})},z=function(){var t=e(this),r=t.data(s),i=r.opt,o=r.sequential,u=s+"_"+r.idx,f=e("#mCSB_"+r.idx),l=e("#mCSB_"+r.idx+"_container"),c=l.parent(),h="input,textarea,select,datalist,keygen,[contenteditable='true']";f.attr("tabindex","0").bind("blur."+u+" keydown."+u+" keyup."+u,function(s){function u(e,n){o.type=i.keyboard.scrollType,o.scrollAmount=i.snapAmount||i.keyboard.scrollAmount,"stepped"===o.type&&r.tweenRunning||W(t,e,n)}switch(s.type){case"blur":r.tweenRunning&&o.dir&&u("off",null);break;case"keydown":case"keyup":var f=s.keyCode?s.keyCode:s.which,p="on";if("x"!==i.axis&&(38===f||40===f)||"y"!==i.axis&&(37===f||39===f)){if((38===f||40===f)&&!r.overflowed[0]||(37===f||39===f)&&!r.overflowed[1])return;"keyup"===s.type&&(p="off"),e(n.activeElement).is(h)||(s.preventDefault(),s.stopImmediatePropagation(),u(p,f))}else if(33===f||34===f){if((r.overflowed[0]||r.overflowed[1])&&(s.preventDefault(),s.stopImmediatePropagation()),"keyup"===s.type){K(t);var d=34===f?-1:1;if("x"===i.axis||"yx"===i.axis&&r.overflowed[1]&&!r.overflowed[0])var v="x",m=Math.abs(l[0].offsetLeft)-.9*d*c.width();else var v="y",m=Math.abs(l[0].offsetTop)-.9*d*c.height();Q(t,m.toString(),{dir:v,scrollEasing:"mcsEaseInOut"})}}else if((35===f||36===f)&&!e(n.activeElement).is(h)&&((r.overflowed[0]||r.overflowed[1])&&(s.preventDefault(),s.stopImmediatePropagation()),"keyup"===s.type)){if("x"===i.axis||"yx"===i.axis&&r.overflowed[1]&&!r.overflowed[0])var v="x",m=35===f?Math.abs(c.width()-l.outerWidth(!1)):0;else var v="y",m=35===f?Math.abs(c.height()-l.outerHeight(!1)):0;Q(t,m.toString(),{dir:v,scrollEasing:"mcsEaseInOut"})}}})},W=function(t,n,r,i,o){function u(e){var n="stepped"!==c.type,r=o?o:e?n?v/1.5:m:1e3/60,s=e?n?7.5:40:2.5,a=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],l=[f.scrollRatio.y>10?10:f.scrollRatio.y,f.scrollRatio.x>10?10:f.scrollRatio.x],p="x"===c.dir[0]?a[1]+c.dir[1]*l[1]*s:a[0]+c.dir[1]*l[0]*s,d="x"===c.dir[0]?a[1]+c.dir[1]*parseInt(c.scrollAmount):a[0]+c.dir[1]*parseInt(c.scrollAmount),g="auto"!==c.scrollAmount?d:p,y=i?i:e?n?"mcsLinearOut":"mcsEaseInOut":"mcsLinear",b=e?!0:!1;return e&&17>r&&(g="x"===c.dir[0]?a[1]:a[0]),Q(t,g.toString(),{dir:c.dir[0],scrollEasing:y,dur:r,onComplete:b}),e?void (c.dir=!1):(clearTimeout(c.step),void (c.step=setTimeout(function(){u()},r)))}function a(){clearTimeout(c.step),et(c,"step"),K(t)}var f=t.data(s),l=f.opt,c=f.sequential,h=e("#mCSB_"+f.idx+"_container"),d="stepped"===c.type?!0:!1,v=l.scrollInertia<26?26:l.scrollInertia,m=l.scrollInertia<1?17:l.scrollInertia;switch(n){case"on":if(c.dir=[r===p[16]||r===p[15]||39===r||37===r?"x":"y",r===p[13]||r===p[15]||38===r||37===r?-1:1],K(t),rt(r)&&"stepped"===c.type)return;u(d);break;case"off":a(),(d||f.tweenRunning&&c.dir)&&u(!0)}},X=function(t){var n=e(this).data(s).opt,r=[];return"function"==typeof t&&(t=t()),t instanceof Array?r=t.length>1?[t[0],t[1]]:"x"===n.axis?[null,t[0]]:[t[0],null]:(r[0]=t.y?t.y:t.x||"x"===n.axis?null:t,r[1]=t.x?t.x:t.y||"y"===n.axis?null:t),"function"==typeof r[0]&&(r[0]=r[0]()),"function"==typeof r[1]&&(r[1]=r[1]()),r},V=function(t,n){if(null!=t&&"undefined"!=typeof t){var r=e(this),i=r.data(s),o=i.opt,u=e("#mCSB_"+i.idx+"_container"),a=u.parent(),f=typeof t;n||(n="x"===o.axis?"x":"y");var l="x"===n?u.outerWidth(!1):u.outerHeight(!1),c="x"===n?u[0].offsetLeft:u[0].offsetTop,h="x"===n?"left":"top";switch(f){case"function":return t();case"object":var p=t.jquery?t:e(t);if(!p.length)return;return"x"===n?it(p)[1]:it(p)[0];case"string":case"number":if(rt(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(l*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(c-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var v=c+parseInt(t.split("+=")[1]);return v>=0?0:Math.abs(v)}if(-1!==t.indexOf("px")&&rt(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(a.height()-u.outerHeight(!1));if("right"===t)return Math.abs(a.width()-u.outerWidth(!1));if("first"===t||"last"===t){var p=u.find(":"+t);return"x"===n?it(p)[1]:it(p)[0]}return e(t).length?"x"===n?it(e(t))[1]:it(e(t))[0]:(u.css(h,t),void d.update.call(null,r[0]))}}},$=function(t){function n(){clearTimeout(c[0].autoUpdate),c[0].autoUpdate=setTimeout(function(){return l.advanced.updateOnSelectorChange&&(h=o(),h!==w)?(u(3),void (w=h)):(l.advanced.updateOnContentResize&&(v=[c.outerHeight(!1),c.outerWidth(!1),g.height(),g.width(),b()[0],b()[1]],(v[0]!==E[0]||v[1]!==E[1]||v[2]!==E[2]||v[3]!==E[3]||v[4]!==E[4]||v[5]!==E[5])&&(u(v[0]!==E[0]||v[1]!==E[1]),E=v)),l.advanced.updateOnImageLoad&&(m=r(),m!==S&&(c.find("img").each(function(){i(this)}),S=m)),void ((l.advanced.updateOnSelectorChange||l.advanced.updateOnContentResize||l.advanced.updateOnImageLoad)&&n()))},60)}function r(){var e=0;return l.advanced.updateOnImageLoad&&(e=c.find("img").length),e}function i(t){function n(e,t){return function(){return t.apply(e,arguments)}}function r(){this.onload=null,e(t).addClass(p[2]),u(2)}if(e(t).hasClass(p[2]))return void u();var i=new Image;i.onload=n(i,r),i.src=t.src}function o(){l.advanced.updateOnSelectorChange===!0&&(l.advanced.updateOnSelectorChange="*");var t=0,n=c.find(l.advanced.updateOnSelectorChange);return l.advanced.updateOnSelectorChange&&n.length>0&&n.each(function(){t+=e(this).height()+e(this).width()}),t}function u(e){clearTimeout(c[0].autoUpdate),d.update.call(null,a[0],e)}var a=e(this),f=a.data(s),l=f.opt,c=e("#mCSB_"+f.idx+"_container");if(t)return clearTimeout(c[0].autoUpdate),void et(c[0],"autoUpdate");var h,v,m,g=c.parent(),y=[e("#mCSB_"+f.idx+"_scrollbar_vertical"),e("#mCSB_"+f.idx+"_scrollbar_horizontal")],b=function(){return[y[0].is(":visible")?y[0].outerHeight(!0):0,y[1].is(":visible")?y[1].outerWidth(!0):0]},w=o(),E=[c.outerHeight(!1),c.outerWidth(!1),g.height(),g.width(),b()[0],b()[1]],S=r();n()},J=function(e,t,n){return Math.round(e/t)*t-n},K=function(t){var n=t.data(s),r=e("#mCSB_"+n.idx+"_container,#mCSB_"+n.idx+"_container_wrapper,#mCSB_"+n.idx+"_dragger_vertical,#mCSB_"+n.idx+"_dragger_horizontal");r.each(function(){Z.call(this)})},Q=function(t,n,r){function i(e){return a&&f.callbacks[e]&&"function"==typeof f.callbacks[e]}function o(){return[f.callbacks.alwaysTriggerOffsets||b>=w[0]+S,f.callbacks.alwaysTriggerOffsets||-x>=b]}function u(){var e=[p[0].offsetTop,p[0].offsetLeft],n=[g[0].offsetTop,g[0].offsetLeft],i=[p.outerHeight(!1),p.outerWidth(!1)],s=[h.height(),h.width()];t[0].mcs={content:p,top:e[0],left:e[1],draggerTop:n[0],draggerLeft:n[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(i[0])-s[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(i[1])-s[1])),direction:r.dir}}var a=t.data(s),f=a.opt,l={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:f.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},r=e.extend(l,r),c=[r.dur,r.drag?0:r.dur],h=e("#mCSB_"+a.idx),p=e("#mCSB_"+a.idx+"_container"),d=p.parent(),v=f.callbacks.onTotalScrollOffset?X.call(t,f.callbacks.onTotalScrollOffset):[0,0],m=f.callbacks.onTotalScrollBackOffset?X.call(t,f.callbacks.onTotalScrollBackOffset):[0,0];if(a.trigger=r.trigger,(0!==d.scrollTop()||0!==d.scrollLeft())&&(e(".mCSB_"+a.idx+"_scrollbar").css("visibility","visible"),d.scrollTop(0).scrollLeft(0)),"_resetY"!==n||a.contentReset.y||(i("onOverflowYNone")&&f.callbacks.onOverflowYNone.call(t[0]),a.contentReset.y=1),"_resetX"!==n||a.contentReset.x||(i("onOverflowXNone")&&f.callbacks.onOverflowXNone.call(t[0]),a.contentReset.x=1),"_resetY"!==n&&"_resetX"!==n){switch(!a.contentReset.y&&t[0].mcs||!a.overflowed[0]||(i("onOverflowY")&&f.callbacks.onOverflowY.call(t[0]),a.contentReset.x=null),!a.contentReset.x&&t[0].mcs||!a.overflowed[1]||(i("onOverflowX")&&f.callbacks.onOverflowX.call(t[0]),a.contentReset.x=null),f.snapAmount&&(n=J(n,f.snapAmount,f.snapOffset)),r.dir){case"x":var g=e("#mCSB_"+a.idx+"_dragger_horizontal"),y="left",b=p[0].offsetLeft,w=[h.width()-p.outerWidth(!1),g.parent().width()-g.width()],E=[n,0===n?0:n/a.scrollRatio.x],S=v[1],x=m[1],T=S>0?S/a.scrollRatio.x:0,N=x>0?x/a.scrollRatio.x:0;break;case"y":var g=e("#mCSB_"+a.idx+"_dragger_vertical"),y="top",b=p[0].offsetTop,w=[h.height()-p.outerHeight(!1),g.parent().height()-g.height()],E=[n,0===n?0:n/a.scrollRatio.y],S=v[0],x=m[0],T=S>0?S/a.scrollRatio.y:0,N=x>0?x/a.scrollRatio.y:0}E[1]<0||0===E[0]&&0===E[1]?E=[0,0]:E[1]>=w[1]?E=[w[0],w[1]]:E[0]=-E[0],t[0].mcs||(u(),i("onInit")&&f.callbacks.onInit.call(t[0])),clearTimeout(p[0].onCompleteTimeout),(a.tweenRunning||!(0===b&&E[0]>=0||b===w[0]&&E[0]<=w[0]))&&(G(g[0],y,Math.round(E[1]),c[1],r.scrollEasing),G(p[0],y,Math.round(E[0]),c[0],r.scrollEasing,r.overwrite,{onStart:function(){r.callbacks&&r.onStart&&!a.tweenRunning&&(i("onScrollStart")&&(u(),f.callbacks.onScrollStart.call(t[0])),a.tweenRunning=!0,k(g),a.cbOffsets=o())},onUpdate:function(){r.callbacks&&r.onUpdate&&i("whileScrolling")&&(u(),f.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(r.callbacks&&r.onComplete){"yx"===f.axis&&clearTimeout(p[0].onCompleteTimeout);var e=p[0].idleTimer||0;p[0].onCompleteTimeout=setTimeout(function(){i("onScroll")&&(u(),f.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&E[1]>=w[1]-T&&a.cbOffsets[0]&&(u(),f.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&E[1]<=N&&a.cbOffsets[1]&&(u(),f.callbacks.onTotalScrollBack.call(t[0])),a.tweenRunning=!1,p[0].idleTimer=0,k(g,"hide")},e)}}}))}},G=function(e,n,r,i,s,o,u){function a(){S.stop||(b||v.call(),b=Y()-y,f(),b>=S.time&&(S.time=b>S.time?b+p-(b-S.time):b+p-1,S.time<b+1&&(S.time=b+1)),S.time<i?S.id=d(a):g.call())}function f(){i>0?(S.currVal=h(S.time,w,x,i,s),E[n]=Math.round(S.currVal)+"px"):E[n]=r+"px",m.call()}function l(){p=1e3/60,S.time=b+p,d=t.requestAnimationFrame?t.requestAnimationFrame:function(e){return f(),setTimeout(e,.01)},S.id=d(a)}function c(){null!=S.id&&(t.requestAnimationFrame?t.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function h(e,t,n,r,i){switch(i){case"linear":case"mcsLinear":return n*e/r+t;case"mcsLinearOut":return e/=r,e--,n*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return e/=r/2,1>e?n/2*e*e+t:(e--,-n/2*(e*(e-2)-1)+t);case"easeInOutStrong":return e/=r/2,1>e?n/2*Math.pow(2,10*(e-1))+t:(e--,n/2*(-Math.pow(2,-10*e)+2)+t);case"easeInOut":case"mcsEaseInOut":return e/=r/2,1>e?n/2*e*e*e+t:(e-=2,n/2*(e*e*e+2)+t);case"easeOutSmooth":return e/=r,e--,-n*(e*e*e*e-1)+t;case"easeOutStrong":return n*(-Math.pow(2,-10*e/r)+1)+t;case"easeOut":case"mcsEaseOut":default:var s=(e/=r)*e,o=s*e;return t+n*(.499999999999997*o*s+ -2.5*s*s+5.5*o+ -6.5*s+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var p,d,u=u||{},v=u.onStart||function(){},m=u.onUpdate||function(){},g=u.onComplete||function(){},y=Y(),b=0,w=e.offsetTop,E=e.style,S=e._mTween[n];"left"===n&&(w=e.offsetLeft);var x=r-w;S.stop=0,"none"!==o&&c(),l()},Y=function(){return t.performance&&t.performance.now?t.performance.now():t.performance&&t.performance.webkitNow?t.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var n=["top","left"],r=0;r<n.length;r++){var i=n[r];e._mTween[i].id&&(t.requestAnimationFrame?t.cancelAnimationFrame(e._mTween[i].id):clearTimeout(e._mTween[i].id),e._mTween[i].id=null,e._mTween[i].stop=1)}},et=function(e,t){try{delete e[t]}catch(n){e[t]=null}},tt=function(e){return!e.which||1===e.which},nt=function(e){var t=e.originalEvent.pointerType;return!t||"touch"===t||2===t},rt=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},it=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]};e.fn[i]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[i]=function(t){return d[t]?d[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):d.init.apply(this,arguments)},e[i].defaults=u,t[i]=!0,e(t).load(function(){e(o)[i](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var n,r,i=e(t),s=i.parents(".mCSB_container");if(s.length)return n=s.parent(),r=[s[0].offsetTop,s[0].offsetLeft],r[0]+it(i)[0]>=0&&r[0]+it(i)[0]<n.height()-i.outerHeight(!1)&&r[1]+it(i)[1]>=0&&r[1]+it(i)[1]<n.width()-i.outerWidth(!1)},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var n=e(t).data(s);if(n)return n.overflowed[0]||n.overflowed[1]}})})})}(jQuery,window,document);