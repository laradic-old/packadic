typeof process!="undefined"&&require("amd-loader"),define(["require","exports","module","./edit_session","./mode/javascript","./range","./test/assertions"],function(e,t,n){function u(e){for(var t=0,n=e.getLength();t<n;t++)e.getTokens(t)}function a(e,t){for(var n=0,r=e.getLength();n<r;n++)o.equal(e.bgTokenizer.states[n],t[n]);o.ok(r==t.length)}var r=e("./edit_session").EditSession,i=e("./mode/javascript").Mode,s=e("./range").Range,o=e("./test/assertions");n.exports={"test background tokenizer update on session change":function(){var e=new r(["/*","*/","var juhu"]);e.setMode("./mode/javascript"),u(e),a(e,["comment_regex_allowed","start","no_regex"]),e.remove(new s(0,2,1,2)),a(e,[null,"no_regex"]),u(e),a(e,["comment_regex_allowed","comment_regex_allowed"]),e.insert({row:0,column:2},"\n*/"),a(e,[undefined,undefined,"comment_regex_allowed"]),u(e),a(e,["comment_regex_allowed","start","no_regex"])}}}),typeof module!="undefined"&&module===require.main&&require("asyncjs").test.testcase(module.exports).exec();