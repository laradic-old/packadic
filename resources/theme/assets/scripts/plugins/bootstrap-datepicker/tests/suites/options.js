module("Options",{setup:function(){},teardown:function(){$("#qunit-fixture *").each(function(){var e=$(this);"datepicker"in e.data()&&e.datepicker("remove")})}}),test("Autoclose",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",autoclose:!0}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.is(":visible"),"Picker is visible"),r=n.find(".datepicker-days tbody td:nth(7)"),equal(r.text(),"4"),r.click(),ok(n.is(":not(:visible)"),"Picker is hidden"),datesEqual(t.dates[0],UTCDate(2012,2,4)),datesEqual(t.viewDate,UTCDate(2012,2,4))}),test("Startview: year view (integer)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:1}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(n.find(".datepicker-months").is(":visible"),"Months view visible"),ok(n.find(".datepicker-years").is(":not(:visible)"),"Years view hidden")}),test("Startview: year view (string)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:"year"}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(n.find(".datepicker-months").is(":visible"),"Months view visible"),ok(n.find(".datepicker-years").is(":not(:visible)"),"Years view hidden")}),test("Startview: decade view (integer)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:2}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(n.find(".datepicker-months").is(":not(:visible)"),"Months view hidden"),ok(n.find(".datepicker-years").is(":visible"),"Years view visible")}),test("Startview: decade view (string)",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",startView:"decade"}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":not(:visible)"),"Days view hidden"),ok(n.find(".datepicker-months").is(":not(:visible)"),"Months view hidden"),ok(n.find(".datepicker-years").is(":visible"),"Years view visible")}),test("Today Button: today button not default",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd"}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .today").is(":not(:visible)"),"Today button not visible")}),test("Today Button: today visibility when enabled",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayBtn:!0}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible"),n.find(".datepicker-days thead th.datepicker-switch").click(),ok(n.find(".datepicker-months").is(":visible"),"Months view visible"),ok(n.find(".datepicker-months tfoot .today").is(":visible"),"Today button visible"),n.find(".datepicker-months thead th.datepicker-switch").click(),ok(n.find(".datepicker-years").is(":visible"),"Years view visible"),ok(n.find(".datepicker-years tfoot .today").is(":visible"),"Today button visible")}),test("Today Button: data-api",function(){var e=$('<input data-date-today-btn="true" />').appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd"}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible")}),test("Today Button: moves to today's date",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayBtn:!0}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible"),r=n.find(".datepicker-days tfoot .today"),r.click();var i=new Date,s=UTCDate(i.getFullYear(),i.getMonth(),i.getDate());datesEqual(t.viewDate,s),datesEqual(t.dates[0],UTCDate(2012,2,5))}),test('Today Button: "linked" selects today\'s date',function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayBtn:"linked"}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .today").is(":visible"),"Today button visible"),r=n.find(".datepicker-days tfoot .today"),r.click();var i=new Date,s=UTCDate(i.getFullYear(),i.getMonth(),i.getDate());datesEqual(t.viewDate,s),datesEqual(t.dates[0],s)}),test("Today Highlight: today's date is not highlighted by default",patch_date(function(e){e.now=UTCDate(2012,2,15);var t=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd"}),n=t.data("datepicker"),r=n.picker,i;t.focus(),ok(r.find(".datepicker-days").is(":visible"),"Days view visible"),equal(r.find(".datepicker-days thead .datepicker-switch").text(),"March 2012",'Title is "March 2012"'),i=r.find(".datepicker-days tbody td:contains(15)"),ok(!i.hasClass("today"),'Today is not marked with "today" class'),i=r.find(".datepicker-days tbody td:contains(14)"),ok(!i.hasClass("today"),'Yesterday is not marked with "today" class'),i=r.find(".datepicker-days tbody td:contains(16)"),ok(!i.hasClass("today"),'Tomorrow is not marked with "today" class')})),test("Today Highlight: today's date is highlighted when not active",patch_date(function(e){e.now=new e(2012,2,15);var t=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",todayHighlight:!0}),n=t.data("datepicker"),r=n.picker,i;t.focus(),ok(r.find(".datepicker-days").is(":visible"),"Days view visible"),equal(r.find(".datepicker-days thead .datepicker-switch").text(),"March 2012",'Title is "March 2012"'),i=r.find(".datepicker-days tbody td:contains(15)"),ok(i.hasClass("today"),'Today is marked with "today" class'),i=r.find(".datepicker-days tbody td:contains(14)"),ok(!i.hasClass("today"),'Yesterday is not marked with "today" class'),i=r.find(".datepicker-days tbody td:contains(16)"),ok(!i.hasClass("today"),'Tomorrow is not marked with "today" class')})),test("Clear Button: clear visibility when enabled",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",clearBtn:!0}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .clear").is(":visible"),"Clear button visible"),n.find(".datepicker-days thead th.datepicker-switch").click(),ok(n.find(".datepicker-months").is(":visible"),"Months view visible"),ok(n.find(".datepicker-months tfoot .clear").is(":visible"),"Clear button visible"),n.find(".datepicker-months thead th.datepicker-switch").click(),ok(n.find(".datepicker-years").is(":visible"),"Years view visible"),ok(n.find(".datepicker-years tfoot .clear").is(":visible"),"Clear button visible")}),test("Clear Button: clears input value",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",clearBtn:!0}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .clear").is(":visible"),"Today button visible"),r=n.find(".datepicker-days tfoot .clear"),r.click(),equal(e.val(),"","Input value has been cleared."),ok(n.is(":visible"),"Picker is visible")}),test("Clear Button: hides datepicker if autoclose is on",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",clearBtn:!0,autoclose:!0}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(n.find(".datepicker-days").is(":visible"),"Days view visible"),ok(n.find(".datepicker-days tfoot .clear").is(":visible"),"Today button visible"),r=n.find(".datepicker-days tfoot .clear"),r.click(),equal(e.val(),"","Input value has been cleared."),ok(n.is(":not(:visible)"),"Picker is hidden")}),test("DaysOfWeekDisabled",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",daysOfWeekDisabled:"1,5"}),t=e.data("datepicker"),n=t.picker,r;e.focus(),r=n.find(".datepicker-days tbody td:nth(22)"),ok(r.hasClass("disabled"),"Day of week is disabled"),r=n.find(".datepicker-days tbody td:nth(24)"),ok(!r.hasClass("disabled"),"Day of week is enabled"),r=n.find(".datepicker-days tbody td:nth(26)"),ok(r.hasClass("disabled"),"Day of week is disabled")}),test("BeforeShowDay",function(){var e=function(e){var t=UTCDate(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()).getTime(),n=UTCDate(2012,9,25).getTime(),r=UTCDate(2012,9,26).getTime(),i=UTCDate(2012,9,27).getTime(),s=UTCDate(2012,9,28).getTime();if(t==n)return{tooltip:"A tooltip"};if(t==r)return"test26";if(t==i)return{enabled:!1,classes:"test27"};if(t==s)return!1},t=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",beforeShowDay:e}),n=t.data("datepicker"),r=n.picker,i;t.focus(),i=r.find(".datepicker-days tbody td:nth(25)"),equal(i.attr("title"),"A tooltip","25th has tooltip"),ok(!i.hasClass("disabled"),"25th is enabled"),i=r.find(".datepicker-days tbody td:nth(26)"),ok(i.hasClass("test26"),"26th has test26 class"),ok(!i.hasClass("disabled"),"26th is enabled"),i=r.find(".datepicker-days tbody td:nth(27)"),ok(i.hasClass("test27"),"27th has test27 class"),ok(i.hasClass("disabled"),"27th is disabled"),i=r.find(".datepicker-days tbody td:nth(28)"),ok(i.hasClass("disabled"),"28th is disabled"),i=r.find(".datepicker-days tbody td:nth(29)"),ok(!i.hasClass("disabled"),"29th is enabled")}),test("Orientation: values are parsed correctly",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd"}),t=e.data("datepicker");equal(t.o.orientation.x,"auto"),equal(t.o.orientation.y,"auto"),t._process_options({orientation:""}),equal(t.o.orientation.x,"auto","Empty value"),equal(t.o.orientation.y,"auto","Empty value"),t._process_options({orientation:"left"}),equal(t.o.orientation.x,"left",'"left"'),equal(t.o.orientation.y,"auto",'"left"'),t._process_options({orientation:"right"}),equal(t.o.orientation.x,"right",'"right"'),equal(t.o.orientation.y,"auto",'"right"'),t._process_options({orientation:"top"}),equal(t.o.orientation.x,"auto",'"top"'),equal(t.o.orientation.y,"top",'"top"'),t._process_options({orientation:"bottom"}),equal(t.o.orientation.x,"auto",'"bottom"'),equal(t.o.orientation.y,"bottom",'"bottom"'),t._process_options({orientation:"left top"}),equal(t.o.orientation.x,"left",'"left top"'),equal(t.o.orientation.y,"top",'"left top"'),t._process_options({orientation:"left bottom"}),equal(t.o.orientation.x,"left",'"left bottom"'),equal(t.o.orientation.y,"bottom",'"left bottom"'),t._process_options({orientation:"right top"}),equal(t.o.orientation.x,"right",'"right top"'),equal(t.o.orientation.y,"top",'"right top"'),t._process_options({orientation:"right bottom"}),equal(t.o.orientation.x,"right",'"right bottom"'),equal(t.o.orientation.y,"bottom",'"right bottom"'),t._process_options({orientation:"left right"}),equal(t.o.orientation.x,"left",'"left right"'),equal(t.o.orientation.y,"auto",'"left right"'),t._process_options({orientation:"right left"}),equal(t.o.orientation.x,"right",'"right left"'),equal(t.o.orientation.y,"auto",'"right left"'),t._process_options({orientation:"top bottom"}),equal(t.o.orientation.x,"auto",'"top bottom"'),equal(t.o.orientation.y,"top",'"top bottom"'),t._process_options({orientation:"bottom top"}),equal(t.o.orientation.x,"auto",'"bottom top"'),equal(t.o.orientation.y,"bottom",'"bottom top"'),t._process_options({orientation:"foo bar"}),equal(t.o.orientation.x,"auto",'"foo bar"'),equal(t.o.orientation.y,"auto",'"foo bar"'),t._process_options({orientation:"foo left"}),equal(t.o.orientation.x,"left",'"foo left"'),equal(t.o.orientation.y,"auto",'"foo left"'),t._process_options({orientation:"top bar"}),equal(t.o.orientation.x,"auto",'"top bar"'),equal(t.o.orientation.y,"top",'"top bar"')}),test("startDate",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",startDate:new Date(2012,9,26)}),t=e.data("datepicker"),n=t.picker,r;e.focus(),r=n.find(".datepicker-days tbody td:nth(25)"),ok(r.hasClass("disabled"),"Previous day is disabled"),r=n.find(".datepicker-days tbody td:nth(26)"),ok(!r.hasClass("disabled"),"Specified date is enabled"),r=n.find(".datepicker-days tbody td:nth(27)"),ok(!r.hasClass("disabled"),"Next day is enabled")}),test("endDate",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-10-26").datepicker({format:"yyyy-mm-dd",endDate:new Date(2012,9,26)}),t=e.data("datepicker"),n=t.picker,r;e.focus(),r=n.find(".datepicker-days tbody td:nth(25)"),ok(!r.hasClass("disabled"),"Previous day is enabled"),r=n.find(".datepicker-days tbody td:nth(26)"),ok(!r.hasClass("disabled"),"Specified date is enabled"),r=n.find(".datepicker-days tbody td:nth(27)"),ok(r.hasClass("disabled"),"Next day is disabled")}),test("Multidate",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",multidate:!0}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(t.dates.contains(UTCDate(2012,2,5))!==-1,"2012-03-05 (initial date) in dates"),r=n.find(".datepicker-days tbody td:nth(7)"),equal(r.text(),"4"),r.click(),datesEqual(t.dates.get(-1),UTCDate(2012,2,4),"2012-03-04 in dates"),datesEqual(t.viewDate,UTCDate(2012,2,4)),equal(e.val(),"2012-03-05,2012-03-04"),r=n.find(".datepicker-days tbody td:nth(15)"),equal(r.text(),"12"),r.click(),datesEqual(t.dates.get(-1),UTCDate(2012,2,12),"2012-03-12 in dates"),datesEqual(t.viewDate,UTCDate(2012,2,12)),equal(e.val(),"2012-03-05,2012-03-04,2012-03-12"),r=n.find(".datepicker-days tbody td:nth(7)"),equal(r.text(),"4"),r.click(),ok(t.dates.contains(UTCDate(2012,2,4))===-1,"2012-03-04 no longer in dates"),datesEqual(t.viewDate,UTCDate(2012,2,4)),equal(e.val(),"2012-03-05,2012-03-12")}),test("Multidate with limit",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",multidate:2}),t=e.data("datepicker"),n=t.picker,r;e.focus(),ok(t.dates.contains(UTCDate(2012,2,5))!==-1,"2012-03-05 (initial date) in dates"),r=n.find(".datepicker-days tbody td:nth(7)"),equal(r.text(),"4"),r.click(),datesEqual(t.dates.get(-1),UTCDate(2012,2,4),"2012-03-04 in dates"),datesEqual(t.viewDate,UTCDate(2012,2,4)),equal(e.val(),"2012-03-05,2012-03-04"),r=n.find(".datepicker-days tbody td:nth(15)"),equal(r.text(),"12"),r.click(),datesEqual(t.dates.get(-1),UTCDate(2012,2,12),"2012-03-12 in dates"),datesEqual(t.viewDate,UTCDate(2012,2,12)),equal(e.val(),"2012-03-04,2012-03-12"),r=n.find(".datepicker-days tbody td:nth(20)"),equal(r.text(),"17"),r.click(),datesEqual(t.dates.get(-1),UTCDate(2012,2,17),"2012-03-17 in dates"),ok(t.dates.contains(UTCDate(2012,2,4))===-1,"2012-03-04 no longer in dates"),datesEqual(t.viewDate,UTCDate(2012,2,17)),equal(e.val(),"2012-03-12,2012-03-17")}),test("Multidate Separator",function(){var e=$("<input />").appendTo("#qunit-fixture").val("2012-03-05").datepicker({format:"yyyy-mm-dd",multidate:!0,multidateSeparator:" "}),t=e.data("datepicker"),n=t.picker,r;e.focus(),r=n.find(".datepicker-days tbody td:nth(7)"),equal(r.text(),"4"),r.click(),equal(e.val(),"2012-03-05 2012-03-04"),r=n.find(".datepicker-days tbody td:nth(15)"),equal(r.text(),"12"),r.click(),equal(e.val(),"2012-03-05 2012-03-04 2012-03-12")});