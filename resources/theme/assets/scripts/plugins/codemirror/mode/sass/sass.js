(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){e.defineMode("sass",function(e){function t(e){return new RegExp("^"+e.join("|"))}function u(e,t){var n=e.peek();return n===")"?(e.next(),t.tokenizer=p,"operator"):n==="("?(e.next(),e.eatSpace(),"operator"):n==="'"||n==='"'?(t.tokenizer=f(e.next()),"string"):(t.tokenizer=f(")",!1),"string")}function a(e,t){return function(n,r){return n.sol()&&n.indentation()<=e?(r.tokenizer=p,p(n,r)):(t&&n.skipTo("*/")?(n.next(),n.next(),r.tokenizer=p):n.skipToEnd(),"comment")}}function f(e,t){function n(r,i){var s=r.next(),o=r.peek(),u=r.string.charAt(r.pos-2),a=s!=="\\"&&o===e||s===e&&u!=="\\";return a?(s!==e&&t&&r.next(),i.tokenizer=p,"string"):s==="#"&&o==="{"?(i.tokenizer=l(n),r.next(),"operator"):"string"}return t==null&&(t=!0),n}function l(e){return function(t,n){return t.peek()==="}"?(t.next(),n.tokenizer=e,"operator"):p(t,n)}}function c(t){if(t.indentCount==0){t.indentCount++;var n=t.scopes[0].offset,r=n+e.indentUnit;t.scopes.unshift({offset:r})}}function h(e){if(e.scopes.length==1)return;e.scopes.shift()}function p(e,t){var n=e.peek();if(e.match("/*"))return t.tokenizer=a(e.indentation(),!0),t.tokenizer(e,t);if(e.match("//"))return t.tokenizer=a(e.indentation(),!1),t.tokenizer(e,t);if(e.match("#{"))return t.tokenizer=l(p),"operator";if(n==='"'||n==="'")return e.next(),t.tokenizer=f(n),"string";if(!t.cursorHalf){if(n==="."){e.next();if(e.match(/^[\w-]+/))return c(t),"atom";if(e.peek()==="#")return c(t),"atom"}if(n==="#"){e.next();if(e.match(/^[\w-]+/))return c(t),"atom";if(e.peek()==="#")return c(t),"atom"}if(n==="$")return e.next(),e.eatWhile(/[\w-]/),"variable-2";if(e.match(/^-?[0-9\.]+/))return"number";if(e.match(/^(px|em|in)\b/))return"unit";if(e.match(r))return"keyword";if(e.match(/^url/)&&e.peek()==="(")return t.tokenizer=u,"atom";if(n==="="&&e.match(/^=[\w-]+/))return c(t),"meta";if(n==="+"&&e.match(/^\+[\w-]+/))return"variable-3";n==="@"&&e.match(/@extend/)&&(e.match(/\s*[\w]/)||h(t));if(e.match(/^@(else if|if|media|else|for|each|while|mixin|function)/))return c(t),"meta";if(n==="@")return e.next(),e.eatWhile(/[\w-]/),"meta";if(e.eatWhile(/[\w-]/))return e.match(/ *: *[\w-\+\$#!\("']/,!1)?"propery":e.match(/ *:/,!1)?(c(t),t.cursorHalf=1,"atom"):e.match(/ *,/,!1)?"atom":(c(t),"atom");if(n===":")return e.match(o)?"keyword":(e.next(),t.cursorHalf=1,"operator")}else{if(n==="#"){e.next();if(e.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/))return e.peek()||(t.cursorHalf=0),"number"}if(e.match(/^-?[0-9\.]+/))return e.peek()||(t.cursorHalf=0),"number";if(e.match(/^(px|em|in)\b/))return e.peek()||(t.cursorHalf=0),"unit";if(e.match(r))return e.peek()||(t.cursorHalf=0),"keyword";if(e.match(/^url/)&&e.peek()==="(")return t.tokenizer=u,e.peek()||(t.cursorHalf=0),"atom";if(n==="$")return e.next(),e.eatWhile(/[\w-]/),e.peek()||(t.cursorHalf=0),"variable-3";if(n==="!")return e.next(),e.peek()||(t.cursorHalf=0),e.match(/^[\w]+/)?"keyword":"operator";if(e.match(s))return e.peek()||(t.cursorHalf=0),"operator";if(e.eatWhile(/[\w-]/))return e.peek()||(t.cursorHalf=0),"attribute";if(!e.peek())return t.cursorHalf=0,null}return e.match(s)?"operator":(e.next(),null)}function d(t,n){t.sol()&&(n.indentCount=0);var r=n.tokenizer(t,n),i=t.current();(i==="@return"||i==="}")&&h(n);if(r!==null){var s=t.pos-i.length,o=s+e.indentUnit*n.indentCount,u=[];for(var a=0;a<n.scopes.length;a++){var f=n.scopes[a];f.offset<=o&&u.push(f)}n.scopes=u}return r}var n=["true","false","null","auto"],r=new RegExp("^"+n.join("|")),i=["\\(","\\)","=",">","<","==",">=","<=","\\+","-","\\!=","/","\\*","%","and","or","not",";","\\{","\\}",":"],s=t(i),o=/^::?[a-zA-Z_][\w\-]*/;return{startState:function(){return{tokenizer:p,scopes:[{offset:0,type:"sass"}],indentCount:0,cursorHalf:0,definedVars:[],definedMixins:[]}},token:function(e,t){var n=d(e,t);return t.lastToken={style:n,content:e.current()},n},indent:function(e){return e.scopes[0].offset}}}),e.defineMIME("text/x-sass","sass")});