(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){var t=/^(\s*)(>[> ]*|[*+-]\s|(\d+)\.)(\s*)/,n=/^(\s*)(>[> ]*|[*+-]|(\d+)\.)(\s*)$/,r=/[*+-]\s/;e.commands.newlineAndIndentContinueMarkdownList=function(i){if(i.getOption("disableInput"))return e.Pass;var s=i.listSelections(),o=[];for(var u=0;u<s.length;u++){var a=s[u].head,f,l=i.getStateAfter(a.line),c=l.list!==!1,h=l.quote!==!1;if(!s[u].empty()||!c&&!h||!(f=i.getLine(a.line).match(t))){i.execCommand("newlineAndIndent");return}if(i.getLine(a.line).match(n))i.replaceRange("",{line:a.line,ch:0},{line:a.line,ch:a.ch+1}),o[u]="\n";else{var p=f[1],d=f[4],v=r.test(f[2])||f[2].indexOf(">")>=0?f[2]:parseInt(f[3],10)+1+".";o[u]="\n"+p+v+d}}i.replaceSelections(o)}});