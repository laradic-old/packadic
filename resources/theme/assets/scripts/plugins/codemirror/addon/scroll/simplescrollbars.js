(function(e){typeof exports=="object"&&typeof module=="object"?e(require("../../lib/codemirror")):typeof define=="function"&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)})(function(e){function t(t,n,r){function s(t){var n=e.wheelEventPixels(t)[i.orientation=="horizontal"?"x":"y"],r=i.pos;i.moveTo(i.pos+n),i.pos!=r&&e.e_preventDefault(t)}this.orientation=n,this.scroll=r,this.screen=this.total=this.size=1,this.pos=0,this.node=document.createElement("div"),this.node.className=t+"-"+n,this.inner=this.node.appendChild(document.createElement("div"));var i=this;e.on(this.inner,"mousedown",function(t){function o(){e.off(document,"mousemove",u),e.off(document,"mouseup",o)}function u(e){if(e.which!=1)return o();i.moveTo(s+(e[n]-r)*(i.total/i.size))}if(t.which!=1)return;e.e_preventDefault(t);var n=i.orientation=="horizontal"?"pageX":"pageY",r=t[n],s=i.pos;e.on(document,"mousemove",u),e.on(document,"mouseup",o)}),e.on(this.node,"click",function(t){e.e_preventDefault(t);var n=i.inner.getBoundingClientRect(),r;i.orientation=="horizontal"?r=t.clientX<n.left?-1:t.clientX>n.right?1:0:r=t.clientY<n.top?-1:t.clientY>n.bottom?1:0,i.moveTo(i.pos+r*i.screen)}),e.on(this.node,"mousewheel",s),e.on(this.node,"DOMMouseScroll",s)}function n(e,n,r){this.addClass=e,this.horiz=new t(e,"horizontal",r),n(this.horiz.node),this.vert=new t(e,"vertical",r),n(this.vert.node),this.width=null}t.prototype.moveTo=function(e,t){e<0&&(e=0),e>this.total-this.screen&&(e=this.total-this.screen);if(e==this.pos)return;this.pos=e,this.inner.style[this.orientation=="horizontal"?"left":"top"]=e*(this.size/this.total)+"px",t!==!1&&this.scroll(e,this.orientation)},t.prototype.update=function(e,t,n){this.screen=t,this.total=e,this.size=n,this.inner.style[this.orientation=="horizontal"?"width":"height"]=this.screen*(this.size/this.total)+"px",this.inner.style[this.orientation=="horizontal"?"left":"top"]=this.pos*(this.size/this.total)+"px"},n.prototype.update=function(e){if(this.width==null){var t=window.getComputedStyle?window.getComputedStyle(this.horiz.node):this.horiz.node.currentStyle;t&&(this.width=parseInt(t.height))}var n=this.width||0,r=e.scrollWidth>e.clientWidth+1,i=e.scrollHeight>e.clientHeight+1;return this.vert.node.style.display=i?"block":"none",this.horiz.node.style.display=r?"block":"none",i&&(this.vert.update(e.scrollHeight,e.clientHeight,e.viewHeight-(r?n:0)),this.vert.node.style.display="block",this.vert.node.style.bottom=r?n+"px":"0"),r&&(this.horiz.update(e.scrollWidth,e.clientWidth,e.viewWidth-(i?n:0)-e.barLeft),this.horiz.node.style.right=i?n+"px":"0",this.horiz.node.style.left=e.barLeft+"px"),{right:i?n:0,bottom:r?n:0}},n.prototype.setScrollTop=function(e){this.vert.moveTo(e,!1)},n.prototype.setScrollLeft=function(e){this.horiz.moveTo(e,!1)},n.prototype.clear=function(){var e=this.horiz.node.parentNode;e.removeChild(this.horiz.node),e.removeChild(this.vert.node)},e.scrollbarModel.simple=function(e,t){return new n("CodeMirror-simplescroll",e,t)},e.scrollbarModel.overlay=function(e,t){return new n("CodeMirror-overlayscroll",e,t)}});