(function(){(function(){var e={VERSION:"0.10",templates:{},$:"undefined"!=typeof window?window.jQuery||window.Zepto||null:null,addTemplate:function(t,n){if("object"==typeof t)for(var r in t)this.addTemplate(r,t[r]);else e[t]?console.error("Invalid name: "+t+"."):e.templates[t]?console.error('Template "'+t+'  " exists'):(e.templates[t]=n,e[t]=function(n,r){var n=n||{},i=Mustache.to_html(e.templates[t],n,e.templates);return e.$&&!r?e.$(i):i})},clearAll:function(){for(var t in e.templates)delete e[t];e.templates={}},refresh:function(){e.clearAll(),e.grabTemplates()},grabTemplates:function(){var t,n=document.getElementsByTagName("script"),r,i=[];for(t=0,l=n.length;t<l;t++)(r=n[t])&&r.innerHTML&&r.id&&("text/html"===r.type||"text/x-icanhaz"===r.type)&&(e.addTemplate(r.id,"".trim?r.innerHTML.trim():r.innerHTML.replace(/^\s+/,"").replace(/\s+$/,"")),i.unshift(r));for(t=0,l=i.length;t<l;t++)i[t].parentNode.removeChild(i[t])}};"undefined"!=typeof require?module.exports=e:window.ich=e,"undefined"!=typeof document&&(e.$?e.$(function(){e.grabTemplates()}):document.addEventListener("DOMContentLoaded",function(){e.grabTemplates()},!0))})()})();