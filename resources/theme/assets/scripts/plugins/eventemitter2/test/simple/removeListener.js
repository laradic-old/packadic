var simpleEvents=require("nodeunit").testCase,file="../../lib/eventemitter2",EventEmitter2;typeof require!="undefined"?EventEmitter2=require(file).EventEmitter2:EventEmitter2=window.EventEmitter2,module.exports=simpleEvents({"removeListener1. adding 1, removing 1":function(e){var t=new EventEmitter2,n="remove",r,i=function(){e.ok(!0,"event was raised")};t.on(n,i),r=t.listeners(n),e.equal(r.length,1,"should only have 1"),t.removeListener(n,i),r=t.listeners(n),e.equal(r.length,0,"should be 0"),e.expect(2),e.done()},"removeListener2. adding 2, removing 1":function(e){var t=new EventEmitter2,n="remove",r,i=function(){e.ok(!0,"event was raised")};t.on(n,i),t.on(n,i),r=t.listeners(n),e.equal(r.length,2,"should only have 2"),t.removeListener(n,i),r=t.listeners(n),e.equal(r.length,1,"should be 1"),e.expect(2),e.done()},"removeListener3. adding 3, removing 1":function(e){var t=new EventEmitter2,n="remove",r,i=function(){e.ok(!0,"event was raised")};t.on(n,i),t.on(n,i),t.on(n,i),r=t.listeners(n),e.equal(r.length,3,"should only have 3"),t.removeListener(n,i),r=t.listeners(n),e.equal(r.length,2,"should be 2"),e.expect(2),e.done()},"removeListener4. should error if we don't pass in a function":function(e){var t=new EventEmitter2,n="remove",r,i=function(){e.ok(!0,"event was raised")};t.on(n,i),r=t.listeners(n),e.equal(r.length,1,"should only have 1"),e.throws(function(){t.removeListener(n,n)},Error,"should throw an Error"),r=t.listeners(n),e.equal(r.length,1,"should be 1"),e.expect(3),e.done()},"removeListener5. removing a different function, should not remove":function(e){var t=new EventEmitter2,n="remove",r,i=function(){e.ok(!0,"event was raised")},s=function(){e.ok(!0,"event was raised")};t.on(n,i),r=t.listeners(n),e.equal(r.length,1,"should only have 1"),t.removeListener(n,s),r=t.listeners(n),e.equal(r.length,1,"should be 1"),e.expect(2),e.done()},"removeListener6. removing all functions":function(e){var t=new EventEmitter2,n="remove",r,i=function(){e.ok(!0,"event was raised")};for(var s=0;s<10;s++)t.on(n,i);r=t.listeners(n),e.equal(r.length,10,"should only have 10"),t.removeListener(n,i),r=t.listeners(n),e.equal(r.length,9,"should be 9"),t.removeAllListeners(n),r=t.listeners(n),e.equal(r.length,0,"should be 0"),e.expect(3),e.done()},"removeListener7. removing different event, should not remove":function(e){var t=new EventEmitter2,n="remove",r,i=function(){e.ok(!0,"event was raised")};for(var s=0;s<10;s++)t.on(n,i);r=t.listeners(n),e.equal(r.length,10,"should only have 10"),t.removeListener(n+n,i),r=t.listeners(n),e.equal(r.length,10,"should be 10"),t.removeAllListeners(n+n),r=t.listeners(n),e.equal(r.length,10,"should be 10"),t.removeAllListeners(n),r=t.listeners(n),e.equal(r.length,0,"should be 0"),e.expect(4),e.done()}});